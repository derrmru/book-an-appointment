(this["webpackJsonplfas-online-appointment"]=this["webpackJsonplfas-online-appointment"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),i=n(10),r=n.n(i),o=(n(16),n(3)),l=n.n(o),u=n(4),j=n(2),d=n(5),b=n.n(d),p={"KN-NP":{url:"https://script.google.com/macros/s/AKfycbwXNspSf2ZMrmSCt68aH9--B1AIFPsYsRzcVHn2yRV5yRqd0nLBPSkN/exec",length:20},"KN-FU":{url:"https://script.google.com/macros/s/AKfycbwXNspSf2ZMrmSCt68aH9--B1AIFPsYsRzcVHn2yRV5yRqd0nLBPSkN/exec",length:20},"ST-NP":{url:"https://script.google.com/macros/s/AKfycbwXNspSf2ZMrmSCt68aH9--B1AIFPsYsRzcVHn2yRV5yRqd0nLBPSkN/exec",length:60},"ST-FU":{url:"https://script.google.com/macros/s/AKfycbwXNspSf2ZMrmSCt68aH9--B1AIFPsYsRzcVHn2yRV5yRqd0nLBPSkN/exec",length:20}},h=(n(18),function(e){return Object(c.jsx)("div",{className:"page-link",children:Object(c.jsx)("a",{href:e.to,target:e.newTab?"_blank":"_self",rel:e.newTab?"noreferrer":"",children:e.text})})}),m=(n(19),function(e){return Object(c.jsx)("button",{"aria-label":"toggle navigation menu on mobile",className:"menu-button",onClick:function(){return e.setToggle()},style:(e.show,{border:"none"}),children:e.show?Object(c.jsx)("div",{className:"exit-cross",children:"|X|"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"stripe"}),Object(c.jsx)("div",{className:"stripe"}),Object(c.jsx)("div",{className:"stripe"})]})})}),O=(n(20),function(e){var t=Object(a.useState)(!0),n=Object(j.a)(t,2),s=n[0],i=n[1],r={backgroundColor:"var(--the-white)",color:"var(--the-black)"},o={backgroundColor:"var(--the-black)",color:"white"};return Object(a.useLayoutEffect)((function(){function e(){window.innerWidth<1025?i(!1):i(!0)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m,{setToggle:function(){return i(!s)},show:s}),Object(c.jsx)("div",{className:"sidebar-container",style:s?{display:"inline"}:{display:"none"},children:Object(c.jsxs)("div",{className:"sidebar-scroll",children:[Object(c.jsxs)("div",{className:"sidebar-titles",children:[Object(c.jsx)("h1",{children:"London Foot & Ankle Surgery"}),Object(c.jsx)("h2",{children:e.title})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("h3",{style:{fontSize:"20px"},children:"Progress"}),Object(c.jsxs)("div",{className:"stage-text",children:[e.stage<3&&Object(c.jsxs)(c.Fragment,{children:["Stage ",e.stage+1,": "]}),0===e.stage?Object(c.jsx)(c.Fragment,{children:" Select an Appointment Type"}):1===e.stage?Object(c.jsx)(c.Fragment,{children:" Select a Time"}):2===e.stage?Object(c.jsx)(c.Fragment,{children:" Submit Booking Form"}):3===e.stage?Object(c.jsx)(c.Fragment,{children:" Successful Booking "}):4===e.stage?Object(c.jsx)(c.Fragment,{children:" Your Details"}):5===e.stage&&Object(c.jsx)(c.Fragment,{children:" Finalise Appointment "})]}),Object(c.jsxs)("div",{className:"progress-bar",children:[Object(c.jsx)("div",{className:"progression",style:o,children:"1"}),Object(c.jsx)("div",{className:"progression",style:e.stage>0&&e.stage<4||5===e.stage?o:r,children:"2"}),Object(c.jsx)("div",{className:"progression",style:2===e.stage||5===e.stage||3===e.stage?o:r,children:"3"})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"sidebar-items",children:[Object(c.jsx)(h,{text:"Return To Main Website",to:"https://londonfootandanklesurgery.co.uk",newTab:!0}),Object(c.jsx)(h,{text:"Book A Virtual Appointment",to:"https://appointments.londonfootandanklesurgery.co.uk",newTab:!1}),Object(c.jsx)(h,{text:"Email",to:"mailto: admin@londonfootandanklesurgery.co.uk",newTab:!1}),Object(c.jsx)(h,{text:"Telephone",to:"tel:+442078208007",newTab:!1})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"fine-print",children:["\xa9",(new Date).getFullYear(),", London Foot & Ankle Surgery Ltd."]})]})})]})}),x=(n(21),function(){return Object(c.jsxs)("div",{className:"waking-up",children:[Object(c.jsx)("div",{className:"loading-icon",children:Object(c.jsx)("div",{className:"first-circle"})}),Object(c.jsx)("p",{className:"loading-text",children:"Loading..."})]})}),f=(n(22),function(e){return Object(c.jsxs)("div",{className:"appointment-container",children:[Object(c.jsx)("h1",{className:"portal-title mobile-title",children:"London Foot & Ankle Surgery"}),Object(c.jsx)("h2",{className:"adaptable-title",children:"Select An Appointment Type"}),[{title:"New Consultation",consultant:"Mr. Kaser Nazir",specialism:"Consultant Podiatric Surgeon",description:"Initial In-Clinic Appointment",price:"\xa3200",code:"KN-NP"},{title:"Follow Up Consultation",consultant:"Mr. Kaser Nazir",specialism:"Consultant Podiatric Surgeon",description:"Follow Up Appointment",price:"\xa3130",code:"KN-FU"},{title:"New Consultation",consultant:"Mr. Steven Thomas",specialism:"Specialist Podiatrist",description:"Initial In-Clinic Appointment",price:"\xa3120",code:"ST-NP"},{title:"Follow Up Consultation",consultant:"Mr. Steven Thomas",specialism:"Specialist Podiatrist",description:"Follow Up Appointment",price:"\xa390",code:"ST-FU"}].map((function(t,n){return Object(c.jsx)("button",{"data-testid":"appointmentType",className:"appointment-card",onClick:function(){return e.selectType(t.code)},children:Object(c.jsxs)("div",{className:"card-section",children:[Object(c.jsx)("h2",{children:t.title}),Object(c.jsx)("hr",{className:"card-hr"}),Object(c.jsxs)("h3",{style:{marginBottom:"10px"},children:[t.consultant,",",Object(c.jsx)("br",{})," ",t.specialism]}),Object(c.jsxs)("h4",{style:{fontWeight:100,margin:"0"},children:["Self-Funding Fee: ",t.price]}),Object(c.jsx)("h4",{style:{fontWeight:100,margin:"0"},children:"Private Health Insurance Is Accepted"}),Object(c.jsx)("h5",{style:{marginTop:"10px",fontWeight:100},children:t.description})]})},"appoint"+n)}))]})}),g=(n(23),function(e){var t=Object(a.useState)(""),n=Object(j.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(j.a)(r,2),d=o[0],p=o[1],h=Object(a.useState)(""),m=Object(j.a)(h,2),O=m[0],f=m[1],g=Object(a.useState)(!0),v=Object(j.a)(g,2),y=v[0],N=v[1],S=Object(a.useState)(!1),k=Object(j.a)(S,2),w=k[0],F=k[1],A={name:d.trim(),dob:O.split("-").reverse().join(".")};return Object(c.jsx)(c.Fragment,{children:w?Object(c.jsx)(x,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"fu-page",children:Object(c.jsxs)("div",{className:"fu-border",children:[Object(c.jsxs)("div",{className:"atBanner",children:[Object(c.jsx)("h1",{id:"fu-title",className:"portal-title",children:"Patient Search"}),Object(c.jsx)("p",{children:"Help Us To Find You On Our System"})]}),Object(c.jsx)("hr",{className:"hr"}),!y&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h2",{style:{color:"red"},children:"We weren't able to find your file."}),Object(c.jsx)("h3",{style:{color:"red"},children:"Please check your details and try again or give us a call."})]}),Object(c.jsx)("div",{className:"fu-container",children:Object(c.jsxs)("form",{className:"bookingForm",children:[Object(c.jsxs)("label",{children:["First Name:",Object(c.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)},placeholder:"e.g. John",required:!0})]}),Object(c.jsxs)("label",{children:["Last Name:",Object(c.jsx)("input",{type:"text",value:d,onChange:function(e){return p(e.target.value)},placeholder:"e.g. Smith",required:!0})]}),Object(c.jsxs)("label",{children:["Date Of Birth:",Object(c.jsx)("input",{type:"date",value:O,onChange:function(e){return f(e.target.value)},required:!0})]}),Object(c.jsx)("input",{type:"submit",className:"submit-fu",value:"search",onClick:function(t){return function(t){t.preventDefault(),N(!1),F(!0),b.a.post("https://script.google.com/macros/s/AKfycbw1N-hxteK4WXKzXBDtDHeUxNB3LaF47vAES7nnPBNCsqWtG9HxWDvL/exec",A,function(){var t=Object(u.a)(l.a.mark((function t(n){var c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,JSON.parse(n);case 2:c=t.sent,console.log(c),F(!1),!0===c[0]?(e.setFuFirstName(s),e.setFuLastName(d),e.setStage(1),c[1]&&e.setIsFUAndSF(!0),!c[1]&&e.setIsFUAndIns(!0)):N(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(t)}})]})}),Object(c.jsx)("button",{className:"back-to-calendar",onClick:function(){return e.setStage(0)},children:"Select A Different Appointment Type"})]})})})})}),v=n(9),y=(n(24),function(){return Object(c.jsxs)("div",{className:"searching-container",children:[Object(c.jsx)("div",{className:"searching-circle"}),Object(c.jsx)("p",{children:"Searching for more times..."})]})}),N=(n(25),function(e){var t=e.availability,n=e.timeSelect,s=e.setStage,i=e.type,r=e.setAvailability,o=Object(a.useState)(!1),d=Object(j.a)(o,2),h=d[0],m=d[1],O=Object(a.useState)(0),x=Object(j.a)(O,2),f=x[0],g=x[1],N={};t.map((function(e){var t=e.split(",")[0],n=e.split(" ")[1]+" "+e.split(" ")[2];return N[t]?N[t].push(n):N[t]=[n]}));var S=Object.keys(N),k=S.length;Object(a.useEffect)((function(){f>=k&&m(!0)}),[f,k]),Object(a.useEffect)((function(){var e=new Date(t[t.length-1]);e.getMonth()<(new Date).getMonth()+4&&b.a.post(p[i].url,{date:new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,0,0),appointmentLength:p[i].length,type:i},function(){var e=Object(u.a)(l.a.mark((function e(n){var c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(n);case 2:c=e.sent,a=[].concat(Object(v.a)(t),Object(v.a)(c)),m(!1),r(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t,r,i]),new Date(t[t.length-1]).getMonth()-(new Date).getMonth()>=3&&f>=k&&g(f-5);return Object(c.jsxs)("div",{className:"dates-container",children:[Object(c.jsx)("h1",{className:"portal-title",children:"Select A Date And Time"}),Object(c.jsx)("div",{className:"dates",children:h?Object(c.jsx)(y,{}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"span-header",children:[Object(c.jsx)("button",{className:"inc-button",onClick:function(){return f>=5&&g(f-5)},children:"\u2190"}),Object(c.jsxs)("h3",{className:"date-range",children:[new Date(S[f]).toDateString()+" ","-",k<5||k>=5&&k<10&&f>0||k>10&&f+5>=k-5?" "+new Date(S[k-1]).toDateString():" "+new Date(S[f+4]).toDateString()]}),Object(c.jsx)("button",{className:"inc-button",onClick:function(){return g(f+5)},children:"\u2192"})]}),Object(c.jsx)("hr",{style:{width:"80%",margin:"15px 10%"}}),S.map((function(e,t){return t>=f&&t<f+5&&Object(c.jsxs)("div",{className:"date-headers",children:[Object(c.jsx)("h3",{className:"date-axis",children:new Date(e).toLocaleDateString().split(",")[0]}),Object(c.jsx)("div",{className:"times-container",children:N[e].reverse().map((function(t,a){var s=t.split(":")[0]+":"+t.split(":")[1]+" "+t.split(" ")[1];return Object(c.jsx)("button",{className:"times",onClick:function(){return n(e,t)},children:s},"time"+a)}))})]},"date"+t)}))]})}),Object(c.jsx)("button",{className:"back-to-calendar",style:{marginBottom:"100px"},onClick:function(){return s(0)},children:"Back To Appointment Types"})]})}),S=function(e){var t=Object(a.useState)(!1),n=Object(j.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(!1),o=Object(j.a)(r,1)[0],d=Object(a.useRef)(null),b={price:e.price,description:e.description};return Object(a.useEffect)((function(){if(!1===s){var t=document.createElement("script");t.src="https://www.paypal.com/sdk/js?client-id=AdPO7ubK-G_3uk2Y91sh6JQ0mcntdQuQodb1KlzMNd4EDhxIncASD9iWMFRE5Q_ZaMx-qHqa8Rw_CCn6&currency=GBP",t.async=!0,t.onload=function(){return i(!0),void window.paypal.Buttons({style:{shape:"rect",color:"white",layout:"vertical",label:"pay"},createOrder:function(e,t){return t.order.create({purchase_units:[{description:b.description,amount:{value:b.price}}]})},onApprove:function(){var t=Object(u.a)(l.a.mark((function t(n,c){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.order.capture();case 2:a=t.sent,console.log(a),e.paySubmit();case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),onError:function(e){}}).render(d.current)},document.body.appendChild(t)}})),Object(c.jsx)(c.Fragment,{children:s&&!1===o&&Object(c.jsx)("div",{ref:d})})},k=(n(26),function(e){var t=new Date(e.selectedTime).toString();console.log(t);var n=Object(a.useState)(""),s=Object(j.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(""),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(""),p=Object(j.a)(b,2),h=p[0],m=p[1],O=Object(a.useState)(""),x=Object(j.a)(O,2),f=x[0],g=x[1],v=Object(a.useState)(""),y=Object(j.a)(v,2),N=y[0],k=y[1],w=Object(a.useState)(""),F=Object(j.a)(w,2),A=F[0],C=F[1],P=Object(a.useState)(""),T=Object(j.a)(P,2),I=T[0],D=T[1],L=Object(a.useState)(""),B=Object(j.a)(L,2),q=B[0],M=B[1],K=Object(a.useState)(""),E=Object(j.a)(K,2),U=E[0],H=E[1],z=Object(a.useState)(""),Y=Object(j.a)(z,2),_=Y[0],R=Y[1],W=Object(a.useState)(!1),V=Object(j.a)(W,2),G=V[0],X=V[1],J=Object(a.useState)(!1),Q=Object(j.a)(J,2),Z=Q[0],$=Q[1],ee=Object(a.useState)(!1),te=Object(j.a)(ee,2),ne=te[0],ce=te[1];Object(a.useEffect)((function(){if(!1===ne){var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAkuPHNHz8Ki1KV6n6iI1-EFVIC3ZAm0QY&libraries=places",e.async=!0,e.onload=function(){return function(){var e;ce(!0);var t,n=window.google,c=document.getElementById("autocomplete");(e=new n.maps.places.Autocomplete(c,{})).addListener("place_changed",(function(){var t=e.getPlace().address_components;e.setFields(["address_component"]);var n="";t.map((function(e,c){return n+=e.long_name,c<t.length-1&&(n+=", "),""})),k(n)}));var a=document.getElementById("GP");(t=new n.maps.places.Autocomplete(a,{})).addListener("place_changed",(function(){var e=t.getPlace().address_components;t.setFields(["address_component"]);var n="";e.map((function(t,c){return n+=t.long_name,c<e.length-1&&(n+=", "),""})),R(n)}))}()},document.body.appendChild(e)}}),[ne]);var ae=function(){e.handleSubmit(i,u,f,h,N,A,q,U,I,_,Z,G)};Object(a.useEffect)((function(){G&&ae()}));var se=Object(a.useState)(0),ie=Object(j.a)(se,2),re=ie[0],oe=ie[1];return Object(a.useEffect)((function(){console.log(e.type),"KN-NP"===e.type?oe(200):"KN-FU"===e.type?oe(130):"ST-NP"===e.type?oe(120):"ST-FU"===e.type&&oe(90)}),[re,e.type]),Object(c.jsxs)("div",{className:"books",children:[Object(c.jsxs)("div",{className:"bookingContainer",children:[Object(c.jsxs)("div",{className:"atBanner",children:[Object(c.jsx)("h1",{className:"portal-title",style:{marginTop:"40px"},children:"Appointment Booking Form"}),Object(c.jsxs)("p",{children:["You have selected ",t.split(":00 GMT")[0]]})]}),Object(c.jsx)("hr",{className:"hr"}),Object(c.jsxs)("form",{className:"bookingForm",onSubmit:function(e){return function(e){e.preventDefault(),ae()}(e)},children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"First Name:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:i,onChange:function(e){return r(e.target.value)},placeholder:"First Name",required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Last Name:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Last Name",required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Date of Birth:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"date",style:{WebkitAppearance:"button"},value:I,onChange:function(e){return D(e.target.value)},required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Telephone:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:f,onChange:function(e){return g(e.target.value)},placeholder:"Mobile Number",required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Email:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:h,onChange:function(e){return m(e.target.value)},placeholder:"e.g. example@example.com",required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Address:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{id:"autocomplete",type:"text",value:N,onChange:function(e){return k(e.target.value)},placeholder:"Your Home Address",required:!0})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Method of Payment:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsxs)("select",{name:"mop",value:A,onChange:function(e){return C(e.target.value)},children:[Object(c.jsx)("option",{value:"",children:"-Select-"}),Object(c.jsx)("option",{value:"self-funding",children:"Self-funding"}),Object(c.jsx)("option",{value:"aetna",children:"Aetna"}),Object(c.jsx)("option",{value:"allianz",children:"Allianz"}),Object(c.jsx)("option",{value:"bupa",children:"Bupa"}),Object(c.jsx)("option",{value:"aviva",children:"Aviva"}),Object(c.jsx)("option",{value:"axa-ppp",children:"AXA PPP"}),Object(c.jsx)("option",{value:"axa-ppp-international",children:"AXA PPP International"}),Object(c.jsx)("option",{value:"cigna",children:"Cigna"}),Object(c.jsx)("option",{value:"cigna-international",children:"Cigna International"}),Object(c.jsx)("option",{value:"exeter-friendly",children:"Exeter Friendly"}),Object(c.jsx)("option",{value:"healix",children:"Healix"}),Object(c.jsx)("option",{value:"simply-health",children:"Simply Health"}),Object(c.jsx)("option",{value:"vitality",children:"Vitality"}),Object(c.jsx)("option",{value:"wpa",children:"WPA"})]})]}),"self-funding"!==A&&""!==A?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{className:"divider"}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Policy Number:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:q,onChange:function(e){return M(e.target.value)},placeholder:"Also known as membership number"})]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"Authorisation:"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{type:"text",value:U,onChange:function(e){return H(e.target.value)},placeholder:"Issued by your insurance provider"})]}),Object(c.jsx)("hr",{className:"divider"})]}):"self-funding"===A&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("hr",{className:"divider"}),Object(c.jsxs)("div",{style:{fontSize:"14px",width:"90%",margin:"auto"},children:["The appointment fee is \xa3",re,".",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"When you submit the form you can opt to either pay now or pay in clinic."]}),Object(c.jsx)("hr",{className:"divider"})]}),Object(c.jsxs)("label",{children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("div",{className:"bookingLabel",children:"GP Address:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{id:"GP",type:"text",value:_,onChange:function(e){return R(e.target.value)},placeholder:"Your General Practitioner's Address",required:!0})]}),Object(c.jsx)("div",{className:"bookingLabel",children:"Privacy:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"checkbox-alignment",children:[Object(c.jsx)("input",{name:"privacy",type:"checkbox",style:{appearance:"auto",WebkitAppearance:"checkbox",width:"30px",border:"1px solid var(--the-black)",margin:"0 15px"},checked:Z,onChange:function(){return $(!Z)},required:!0}),Object(c.jsxs)("p",{children:["By ticking this box you indicate that you have read and agree with our",Object(c.jsx)("a",{href:"https://www.londonfootandanklesurgery.co.uk/about-us/privacy-policy/",target:"_blank",rel:"noreferrer",children:"\xa0Privacy Policy\xa0"})]})]})]}),"self-funding"===A&&Z?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{className:"submitButton",type:"submit",onClick:function(){return X(!0)},value:"Pay In Clinic"}),Object(c.jsx)("div",{className:"paypal-container",children:Object(c.jsx)(S,{price:re,description:"Consultation with "+(e.type.indexOf("KN")>=0?"Mr. Kaser Nazir, Consultant Podiatric Surgeon":"Mr. Steven Thomas, Specialist Podiatrist"),paySubmit:function(){return ae()}})})]}):Object(c.jsx)("input",{className:"submitButton",type:"submit",value:"Submit"})]})]}),Object(c.jsx)("button",{className:"back-to-calendar",onClick:function(){return e.setStage(1)},children:"Select A Different Time"}),Object(c.jsx)("button",{className:"back-to-calendar",onClick:function(){return e.setStage(0)},children:"Choose A Different Appointment Type"})]})}),w=(n(27),function(e){var t=new Date(e.selectedTime).toString(),n=Object(a.useState)(""),s=Object(j.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(!1),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(!1),p=Object(j.a)(b,2),h=p[0],m=p[1],O=Object(a.useState)(0),x=Object(j.a)(O,2),f=x[0],g=x[1];Object(a.useEffect)((function(){"KN-FU"===e.type?g(130):"ST-FU"===e.type&&g(90)}),[e.type]);var v=function(){e.fuSubmit(i,h)};return Object(a.useEffect)((function(){h&&v()})),Object(c.jsxs)("div",{className:"fu-pay-container",children:[Object(c.jsx)("h1",{className:"portal-title",children:"Finalise Appointment"}),Object(c.jsxs)("div",{className:"fu-pay",children:[Object(c.jsxs)("h2",{children:["You have selected ",t.split(":00 GMT")[0]]}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"Please provide an email address to receive confirmation of your appointment."}),Object(c.jsxs)("label",{className:"fu-email-label",children:[Object(c.jsx)("div",{className:"fu-label",children:"Email:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsx)("input",{className:"fu-email",type:"text",value:i,onChange:function(e){return r(e.target.value)},placeholder:"e.g. example@example.com",required:!0})]}),Object(c.jsxs)("label",{className:"fu-email-label",children:[Object(c.jsx)("div",{className:"fu-label",children:"Privacy:"})," ",Object(c.jsx)("div",{className:"requiredIcon",children:"*"}),Object(c.jsxs)("div",{className:"checkbox-alignment",children:[Object(c.jsx)("input",{name:"privacy",type:"checkbox",style:{appearance:"auto",WebkitAppearance:"checkbox",width:"30px",border:"1px solid var(--the-black)",margin:"0 15px"},checked:u,onChange:function(){return d(!u)},required:!0}),Object(c.jsxs)("p",{children:["By ticking this box you indicate that you have read and agree with our",Object(c.jsx)("a",{href:"https://www.londonfootandanklesurgery.co.uk/about-us/privacy-policy/",target:"_blank",rel:"noreferrer",children:"\xa0Privacy Policy\xa0"})]})]})]}),e.isFUAndIns?Object(c.jsx)("button",{className:"fu-submit",onClick:function(){return v()},children:"submit"}):0!==f&&""!==i&&u&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{children:"Our records indicate that you are self funding."}),Object(c.jsxs)("p",{style:{width:"90%",margin:"auto"},children:["To complete your booking, please select whether to pay the fee of \xa3",f," either now or in clinic."]}),Object(c.jsx)("button",{className:"fu-pay-in-clinic",onClick:function(){return m(!0)},children:"Pay In Clinic"}),Object(c.jsx)("div",{className:"fu-pp-container",children:Object(c.jsx)(S,{price:f,description:"Consultation with "+(e.type.indexOf("KN")>=0?"Mr. Kaser Nazir, Consultant Podiatric Surgeon":"Mr. Steven Thomas, Specialist Podiatrist"),paySubmit:function(){return v()}})})]})]}),Object(c.jsx)("button",{className:"back-to-calendar",onClick:function(){return e.setStage(1)},children:"Select A Different Time"})]})}),F=(n(28),function(){return Object(c.jsx)("div",{className:"completion-container",children:Object(c.jsxs)("div",{className:"thank-you",children:[Object(c.jsx)("p",{children:"Thank you for your booking."}),Object(c.jsx)("p",{children:"Please check your emails for confirmation of your appointment."})]})})});n(29);var A=function(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),r=Object(j.a)(i,2),o=r[0],d=r[1],h=Object(a.useState)(""),m=Object(j.a)(h,2),v=m[0],y=m[1],S=Object(a.useState)(new Date),A=Object(j.a)(S,1)[0],C=Object(a.useState)([]),P=Object(j.a)(C,2),T=P[0],I=P[1],D=Object(a.useState)(""),L=Object(j.a)(D,2),B=L[0],q=L[1],M=Object(a.useState)(!1),K=Object(j.a)(M,2),E=K[0],U=K[1],H=Object(a.useState)(!1),z=Object(j.a)(H,2),Y=z[0],_=z[1],R=Object(a.useState)(""),W=Object(j.a)(R,2),V=W[0],G=W[1],X=Object(a.useState)(""),J=Object(j.a)(X,2),Q=J[0],Z=J[1];return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(O,{stage:n,title:"Book An Appointment"}),Object(c.jsx)("div",{className:"portal",children:!0===o?Object(c.jsx)(x,{}):0===n?Object(c.jsx)(f,{selectType:function(e){return function(e){y(e),U(!1),_(!1),e.indexOf("FU")>=0?(s(4),b.a.post(p[e].url,{date:A,appointmentLength:p[e].length,type:e},function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(t);case 2:n=e.sent,I(n),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):e.indexOf("NP")>=0&&(d(!0),b.a.post(p[e].url,{date:A,appointmentLength:p[e].length,type:e},function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(t);case 2:n=e.sent,I(n),s(1),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}(e)}}):1===n?Object(c.jsx)(N,{availability:T,timeSelect:function(e,t){return function(e,t){q(e+", "+t),s(E||Y?5:2)}(e,t)},setStage:function(e){return s(e)},type:v,setAvailability:function(e){return I(e)}}):2===n?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(k,{setStage:function(e){return s(e)},selectedTime:B,handleSubmit:function(e,t,n,c,a,i,r,o,j,p,h,m){return function(e,t,n,c,a,i,r,o,j,p,h,m){d(!0);var O=new Date(B),x={firstName:e.trim(),lastName:t.trim(),telephone:n,email:c,address:a,mop:i,policy:r,auth:o,dob:j,gpAddress:p,privacy:h,year:O.getFullYear(),month:O.getMonth(),date:O.getDate(),hours:O.getHours(),minutes:O.getMinutes(),appointmentType:v,payInClinic:m};b.a.post("https://script.google.com/macros/s/AKfycbz4ShtilwAYrGH2MSDYrhQvIXd5eG6TPM-BW5583AP_eBH0yF47Ac5Y/exec",x,function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(3),d(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).done((function(){console.log("complete")}))}(e,t,n,c,a,i,r,o,j,p,h,m)},type:v})}):3===n?Object(c.jsx)(F,{}):4===n?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(g,{setStage:function(e){return s(e)},setIsFUAndSF:function(e){return U(e)},setIsFUAndIns:function(e){return _(e)},setFuFirstName:function(e){return G(e)},setFuLastName:function(e){return Z(e)}})}):5===n&&Object(c.jsx)(w,{type:v,setStage:function(e){return s(e)},selectedTime:B,fuSubmit:function(e,t){return function(e,t){var n=new Date(B),c={firstName:V.trim(),lastName:Q.trim(),year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),appointmentType:v,email:e,payInClinic:t.toString()};console.log(c),d(!0),b.a.post("https://script.google.com/macros/s/AKfycbxhv2GUAL_lPze7NZKDuq9UkX2ywPshG46_VVyNofQUnVak0qDKi2zCKQ/exec",c,function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),s(3),d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).done((function(){console.log("complete")}))}(e,t)},isFUAndSF:E,isFUAndIns:Y})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root")),C()}],[[30,1,2]]]);
//# sourceMappingURL=main.d183485e.chunk.js.map